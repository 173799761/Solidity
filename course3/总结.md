## Course3

##### 关于call和delegatecall



外部合约

```solidity
contract ExternalContract{
    uint256 public number;
    
    function test(uint256 num) public{
        number = num;
    }
}
```

函数接口

```solidity
interface IExternalContract{
    function test(uint256 num) external;
}
```

调用合约

```solidity
contract CallContract{
    uint256 public number;

    address public externalAddr;

    constructor(address _externalAddr){
        externalAddr = _externalAddr;
    }

    function usingCall(uint256 num) public {
        (bool success,) = externalAddr.call(abi.encodeWithSignature("test(uint256)",num));
        require(success);
    }

    function usingDelegatecall(uint256 num) public {
        (bool success,) = externalAddr.delegatecall(abi.encodeWithSignature("test(uint256)",num));
        require(success);
    }

    function directCall(uint256 num) public{
        IExternalContract(externalAddr).test(num);
    }
}
```





##### 其他资料

- [Remix](https://remix.ethereum.org/)



